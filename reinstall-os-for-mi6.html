<!DOCTYPE html>
<!--(¯`·.¸¸.·´¯`·.¸¸.-> ĊÄĻĻ MË ĻŮŚÏŖ <-.¸¸.·´¯`·.¸¸.·´¯)-->
<html lang="en-US">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<meta name="renderer" content="webkit">
<meta name="author" content="Nero Zheng" />
<meta name="generator" content="Pelican" />
<meta name="description" content="重装 Mi6 过程 - 作者：Nero Zheng，首发于『擼sirの避風港』">
<title>重装 Mi6 过程 - 擼sirの避風港</title>
<link href="https://lusir.me/atom.xml" type="application/atom+xml" rel="alternate" title="『擼sirの避風港』Atom Feed" />
<link href="https://lusir.me/rss.xml" type="application/rss+xml" rel="alternate" title="『擼sirの避風港』Rss Feed" />
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-touch-icon-114x114.png" />
<link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32" />
<script src="/theme/js/basket.min.js"></script>
<script>
basket.require({ url: '/theme/css/bootstrap.min.css' },{ url: '/theme/css/niu2.css', unique: 0.2 },{ url: '/theme/font-awesome/css/font-awesome.min.css' },{ url: '/theme/css/pygments/github.css' },{ url: '/theme/css/jquery.fancybox.min.css' },{ url: '/theme/css/gitalk.css' })
.then(function(responses) {
_stylesheet.appendStyleSheet(responses[0], function() {});
	basket.require({ url: '/theme/js/bootstrap.min.js' },{ url: '/theme/js/niu2.js', unique: 0.2 },{ url: '/theme/js/fancy-loading.js' },{ url: '/theme/js/jquery.fancybox.js' },{ url: '/theme/js/jquery-3.5.1.min.js' },{ url: '/theme/js/slimbox2.js' },{ url: '/theme/js/APlayer.min.js' },{ url: '/theme/js/gitalk.min.js' },{ url: '/theme/js/tagcloud.min.js' });});
</script>
<link rel="stylesheet" href="/theme/css/bootstrap.min.css">
<link rel="stylesheet" href="/theme/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/theme/css/niu2.css">
<link rel="stylesheet" href="/theme/css/pygments/github.css">
<link rel="stylesheet" href="/theme/css/jquery.fancybox.min.css">
<link rel="stylesheet" href="/theme/css/gitalk.css">
<link rel="canonical" href="https://lusir.me/reinstall-os-for-mi6.html" />
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="/theme/js/html5shiv.js"></script>
<script src="/theme/js/respond.min.js"></script>
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" href="/theme/font-awesome/css/font-awesome-ie7.min.css">
<![endif]-->
</head>

<body itemscope itemtype="http://schema.org/WebPage"> 
<meta itemprop="inLanguage" content="zh-CN">
<div id="body-header">
<div class="navbar navbar-inverse navbar-fixed-top">
<div class="col-md-12">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="https://lusir.me"><i class="fa fa-home"></i>擼sirの避風港</a>
</div>
<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
<ul class="nav navbar-nav">
<li><a href="https://lusir.me/gallery.html" title="图册"><i class="fa fa-picture-o"></i>图册</a></li>
<li><a href="https://lusir.me/archives.html" title="存档"><i class="fa fa-archive"></i>存档</a></li>
<li><a href="https://lusir.me/tag/" title="标签"><i class="fa fa-tag"></i>标签</a></li>
<!-- category dropdown list -->
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-folder-open"></i>分类<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="https://lusir.me/life/index.html"><i class="fa fa-coffee"></i>日常(1)</a></li>
<li><a href="https://lusir.me/record/index.html"><i class="fa fa-book"></i>记录(17)</a></li>
</ul>
</li>
<!--  self defined dropdown list --></ul>
<!-- right nav bar -->
<ul class="nav navbar-nav navbar-right">
<!-- google custom search --><li>
<div id="niu2-cse-wrapper">
<div id="niu2-cse-header-box" class="navbar-form navbar-nav">
<form action="/search.html" method="get">
<div class="form-group">
<input id="niu2-cse-search-input" class="niu2-cse-header form-control" type="text" name="q" placeholder="回车以搜索…" />
</div>
</form>
</div>
<div id="niu2-cse-ctrl-box" class="navbar-nav"><i id="niu2-cse-search-image" class="fa fa-search navbar-nav"></i><span id="niu2-cse-search-text">搜索</span></div>
</div>
</li></ul>
</nav>
</div>
</div></div>

<div id="body-content" itemscope="itemscope" itemtype="https://schema.org/Article"><div class="col-md-8 col-md-offset-2"><h1 id="content-heading" itemprop="headline">重装 Mi6 过程</h1>
<div class="post-meta" itemprop="datePublished">Sep 26,2020</div></div>
<div id="niu2-left-container" class="col-md-6 col-md-offset-2">
<div id="niu2-main-content" itemprop="articleBody">
<p>记录一下 Mi6 开发版系统安装的过程。
</p>
<h3 id="8b3c020abb7f52c21fd76e994f78e8a0">备份相关信息至 PC，大致包括：</h3>
<ul>
<li>备份通讯录、短信、照片、视频、音乐、笔记等；</li>
<li>备份程序配置文件如 Tasker、GMD Gestures、MyAndroidTools 等；</li>
<li>备份必要的聊天记录如微信、QQ 等；</li>
<li>备份hosts；</li>
<li>通过系统备份程序备份相关 APP；</li>
<li>备份 SD 卡下的其它相关目录内的文件。</li>
</ul>
<h3 id="788131d44ac9bcb8270c6379374af8b7">解锁 bootloader，使用线刷工具安装对应的 Recovery 程序并 root，大致如下：</h3>
<ol>
<li>清除Dalvik、Data、Cache、System；</li>
<li>刷入开发版系统 zip 包（7.10.12）；</li>
<li>Rec 高级设置 → 取消强制加密 → 格式化data分区；</li>
<li>刷 magisk.zip → 开机安装 magisk manager；</li>
<li>安装 Xposed Installer → 禁用资源钩子 → 安装专用版 Xposed_Framework。</li>
</ol>
<h3 id="cd00a391e0e99b6b9acd580a7b7716ab">禁用系统自带<code>应用商店</code>等程序开机自启动：</h3>
<ul>
<li>修改替换 <code>/system/framework/services.jar</code> 并更改权限 <code>0644</code>；</li>
<li>删除 <code>/system/framework/oat/arm64/services.odex</code>；</li>
<li>删除 <code>/system/app</code> 及 <code>/system/priv-app</code> 下的自带程序，其中 <code>PersonalAssistant</code> 不能删。</li>
</ul>
<h3 id="8c1133c4e5c9af3cf27e3bac4e829a6a">使同时支持 Mi 公交卡及 NFC 门禁卡功能：</h3>
<ul>
<li>安装 Card Emulator；</li>
<li>读取门禁信息；</li>
<li>删除 /data/nfc 目录下的 <code>libnfc-nxpTransit.conf</code>；刷门禁时设置默认钱包为“使用HCE钱包”，使用公交卡功能设置为“使用小米钱包”即可。</li>
</ul>
<h3 id="97021cd4b1bee98550a441e377902114">其它：</h3>
<ul>
<li>替换声音、主题等文件；</li>
<li>安装 GMS，安装 GCAM、Authy 等程序；</li>
<li>恢复备份的相关文件信息；</li>
<li>将字体文件置入 <code>Android/data/cn.wps.moffice_eng/.cache/KingsoftOffice/.fonts</code> 目录内。</li>
</ul>
<h3 id="36477c4f66c0578c3af2becac5b7b60c">PC 机上开启手机共享目录：</h3>
<ol>
<li>手机与 PC 在同一局域网内；</li>
<li>PC 新建目录 → 右键“属性” → 共享 → 选择 Everyone → 确认；</li>
<li>使用 RE 或 Mix 添加共享目录入口。</li>
</ol>
</div>

<div id="content-comments">
<div id="gitalk-container"></div>
<script>
    window.addEventListener('load', function () {
        const gitalk = new Gitalk({
            clientID: 'aa5daf9e45c43db0bed1',
            clientSecret: '8cc2895c3e012a61d4838829954023ec697c7d4c',
            repo: 'zyxnero.github.com',
            owner: 'zyxnero',
            admin: ['zyxnero'],
            id: location.pathname,
			labels: ['Gitalk'],
			perPage: 15,
			pagerDirection: 'first',
            distractionFreeMode: false
        });
        gitalk.render('gitalk-container');
        document.querySelector('#gitalk-container').addEventListener('click', function (e) {
            e && e.stopPropagation && e.stopPropagation();
        });
    })
</script>
</div>

</div>
<div id="niu2-right-container" class="col-md-3">
<div id="niu2-sidebar-meta" class="niu2-sidebar">
<div class="niu2-sidebar-label"><i class="fa fa-bug"></i>文章作者</div>
<div class="niu2-sidebar-value" itemprop="author">Nero Zheng</div><p class="hidden">By Nero Zheng</p>
<div class="niu2-sidebar-label"><i class="fa fa-calendar"></i>发布时间</div>
<div class="niu2-sidebar-value" itemprop="datePublished">2020-09-26 17:35</div>
<div class="niu2-sidebar-label"><i class="fa fa-book"></i>分类</div>
<div class="niu2-sidebar-value" itemprop="articleSection"><a href="https://lusir.me/record/index.html">记录</a></div>
<div class="niu2-sidebar-label"><i class="fa fa-tag"></i>标签</div>
<div class="niu2-sidebar-inter-value niu2-sidebar-tag" itemprop="keywords"><a href="https://lusir.me/tag/mi6.html">Mi6</a></div>
 
</div>

<div id="niu2-sidebar-toc" class="niu2-sidebar" data-status="closed">
<div class="niu2-sidebar-label">
<i id="niu2-sidebar-toc-ctrl" class="fa fa-plus"></i>目录
</div>
<ol id="niu2-sidebar-toc-list">
<li><a href="#content-heading">重装 Mi6 过程</a></li>
    <li><a href='#8b3c020abb7f52c21fd76e994f78e8a0'>备份相关信息至 PC，大致包括：</a></li><li><a href='#788131d44ac9bcb8270c6379374af8b7'>解锁 bootloader，使用线刷工具安装对应的 Recovery 程序并 root，大致如下：</a></li><li><a href='#d9dd6ba88ce4c35f40ba010d20100a18'>应用商店</a></li><li><a href='#8c1133c4e5c9af3cf27e3bac4e829a6a'>使同时支持 Mi 公交卡及 NFC 门禁卡功能：</a></li><li><a href='#97021cd4b1bee98550a441e377902114'>其它：</a></li><li><a href='#36477c4f66c0578c3af2becac5b7b60c'>PC 机上开启手机共享目录：</a></li>
<li><a href="#content-comments">评论</a></li>
</ol></div>

<div class="hidden">
<div itemscope itemtype="https://schema.org/BreadcrumbList">
<a href="https://lusir.me" itemprop="url">
<span itemprop="name">Home</span></a>
&nbsp;&gt;&nbsp;
</div>
<div itemscope itemtype="https://schema.org/BreadcrumbList">
<a href="https://lusir.me/record/index.html" itemprop="url">
<span itemprop="name">记录</span></a></div>&nbsp;&gt;&nbsp;重装 Mi6 过程
</div>

<div class="hidden">
<ul>
<li class="prev"><a href="https://lusir.me/switch-env-variable-temporarily.html">上一篇</a></li>
<li class="next"><a href="https://lusir.me/record-of-firefox-installation.html">下一篇</a></li>
</ul>
</div>

<div class="hidden">
 
</div></div>
</div><div id="body-footer" class="col-md-6 col-md-offset-2"><div class="niu2-footer">
<p>Generated by <a href="https://github.com/getpelican/pelican">Pelican</a> with Theme <a href="https://github.com/mawenbao/niu-x2-sidebar">Niu-X2</a> & Hosted by <a href="https://github.com">Github</a>, No Right Reserved<a href="https://plus.google.com/+NeroZheng" rel="author">.</a>
</p>
</div></div>
<script src="/theme/js/jquery-3.5.1.min.js"></script>
<script src="/theme/js/niu2.js"></script>
<script src="/theme/js/bootstrap.min.js"></script>
<script src="/theme/js/fancy-loading.js"></script>
<script src="/theme/js/jquery.fancybox.js"></script>
<script src="/theme/js/gitalk.min.js"></script>
<script>onContentLoaded();</script>

<!-- GoogleAnalytics -->



</body>
</html>